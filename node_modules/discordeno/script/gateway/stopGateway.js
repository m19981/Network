"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.stopGateway = void 0;
const utils_js_1 = require("../util/utils.js");
/** Use this function to stop the gateway properly */
async function stopGateway(gateway, code = 3061, reason = "Discordeno Testing Finished! Do Not RESUME!") {
    // STOP WS
    gateway.shards.forEach((shard) => {
        clearInterval(shard.heartbeat.intervalId);
        gateway.closeWS(shard.ws, code, reason);
    });
    await (0, utils_js_1.delay)(5000);
}
exports.stopGateway = stopGateway;
